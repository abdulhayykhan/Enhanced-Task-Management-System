{% extends "base.html" %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>Tasks</h2>
  <a href="/tasks/new" class="btn btn-primary">+ Add Task</a>
</div>

{% if tasks %}
<div class="table-responsive">
  <table class="table table-bordered table-striped">
    <thead class="table-dark">
      <tr>
        <th>Title</th>
        <th>Description</th>
        <th>Status</th>
        <th>Due Date</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for task in tasks %}
      <tr>
        <td><a href="/tasks/{{ task.id }}" class="text-decoration-none">{{ task.title }}</a></td>
        <td>{{ task.description if task.description else "No description" }}</td>
        <td>
          <span class="badge {% if task.status == 'Completed' %}bg-success{% elif task.status == 'In Progress' %}bg-warning{% else %}bg-secondary{% endif %}">
            {{ task.status }}
          </span>
        </td>
        <td>{{ task.due_date if task.due_date else "No due date" }}</td>
        <td>
          <div class="btn-group btn-group-sm" role="group">
            <a href="/tasks/{{ task.id }}/edit" class="btn btn-outline-warning">Edit</a>
            <a href="/tasks/{{ task.id }}/delete" class="btn btn-outline-danger" onclick="return confirm('Are you sure you want to delete this task?')">Delete</a>
          </div>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% else %}
<div class="text-center py-5">
  <h4 class="text-muted">No tasks yet</h4>
  <p class="text-muted">Create your first task to get started!</p>
  <a href="/tasks/new" class="btn btn-primary">+ Add Task</a>
</div>
{% endif %}
{% endblock %}